{% extends 'main.html' %}

{% block main-body %}
    <p class="result-title">Search Results for "{{ query }}"</p>

    {% if results %}
        {% for result in results %}
            <article class="blog-post">
                <header>
                    <h1 class="post-title">
                        <a href="{% url 'post_detail_view' post_id=result.post_id %}">{{ result.title|upper }}</a>
                    </h1>
                    <h2 class="pub-date">Posted on {{ result.pub_date|date:"d F Y" }} by {{ result.user.username }}</h2>
                </header>
                <p class="post-body">{{ result.content }}</p>
                <footer>
                    <hr>
                </footer>
            </article>
        {% endfor %}
    {% else %}
        <p>No results found.</p>
    {% endif %}
{% endblock %}

{% block pagination %}
    {% if results %}
        <section class="nav-pages">
            <span class="previous-set">
                {% if results.has_previous %}
                    <a href="?page={{ results.previous_page_number }}&query={{ query }}" class="link-previous">
                        <div class="post-dir">Previous Posts</div>
                    </a>
                {% endif %}
            </span>
            <span class="page-count">Page {{ results.number }} of {{ results.paginator.num_pages }}</span>
            <span class="next-set">
                {% if results.has_next %}
                    <a href="?page={{ results.next_page_number }}&query={{ query }}" class="link-next">
                        <div class="post-dir">Next Posts</div>
                    </a>
                {% endif %}
            </span>
        </section>
    {% endif %}
{% endblock %}
